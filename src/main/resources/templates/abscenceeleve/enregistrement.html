<th:block th:replace="layouts/header" />


<head>
    <span class="p-5 text-xl text-gray-600 font-bold">ENREGISTREMENT DE L'ABSCENCE</span>
</head>
<section class="flex flex-row w-full pl-10 gap-10 justify-start items-center">
    <form method="post">
        <input type="text" name="search" id="search" placeholder="Entrez le matricule ...."
            class="w-72 h-10 p-1 border-2 border-blue-600 rounded-xl">
        <button type="submit"><i class="fa-solid fa-magnifying-glass fa-2xl"></i></button>
        <p th:if="${errorSearch}" class="text-red-500" th:text="${errorSearch}">
        </p>
    </form>

</section>

<section th:if="${eleve}" class="w-full">

    <div class="flex flex-row gap-10 px-6 py-8">
        <div class=" w-full bg-white rounded-lg ">
            <div class="p-6 ">

                <form class=" grid gap-5 grid-cols-2" action="#">

                    <div>
                        <label for="matricule" class="block mb-2 text-sm font-medium text-gray-900">
                            Matricule</label>
                        <input type="texte" disabled="disabled" readonly th:value="${eleve.matricule}" name="matricule"
                            id="matricule"
                            class=" w-80 cursor-not-allowed rounded-xl bg-gray-50 border border-gray-300 text-gray-900 focus:ring-primary-600 focus:border-primary-600 block p-2.5 "
                            placeholder="matricule" required>
                    </div>

                    <div>
                        <label for="nom" class="block mb-2 text-sm font-medium text-gray-900">
                            Nom</label>
                        <input type="text" disabled="disabled" readonly th:field="${eleve.nom}" name="nom" id="nom"
                            class=" w-80 cursor-not-allowed rounded-xl bg-gray-50 border border-gray-300 text-gray-900 focus:ring-primary-600 focus:border-primary-600 block p-2.5 "
                            placeholder="name" required>
                    </div>

                    <div>
                        <label for="prenom" class="block mb-2 text-sm font-medium text-gray-900">
                            Prenom</label>
                        <input type="text" disabled="disabled" readonly th:field="${eleve.prenom}" name="prenom"
                            id="prenom"
                            class=" w-80 cursor-not-allowed rounded-xl bg-gray-50 border border-gray-300 text-gray-900 focus:ring-primary-600 focus:border-primary-600 block p-2.5 "
                            placeholder="name" required>
                    </div>

                    <div>
                        <label for="datenaissance" class="block mb-2 text-sm font-medium text-gray-900">
                            Date de naissance</label>
                        <input type="text" disabled="disabled" readonly th:field="${eleve.dateNaissance}"
                            name="datenaissance" id="datenaissance"
                            class=" w-80 cursor-not-allowed rounded-xl bg-gray-50 border border-gray-300 text-gray-900 focus:ring-primary-600 focus:border-primary-600 block p-2.5 "
                            placeholder="name@company.com" required>
                    </div>

                    <div>
                        <label for="classe" class="block mb-2 text-sm font-medium text-gray-900">
                            Classe</label>
                        <input type="text" disabled="disabled" readonly th:field="${eleve.classe.classe}" name="classe"
                            id="classe"
                            class=" w-80 cursor-not-allowed rounded-xl bg-gray-50 border border-gray-300 text-gray-900 focus:ring-primary-600 focus:border-primary-600 block p-2.5 "
                            placeholder="name@company.com" required>
                    </div>

                    <div>
                        <label for="lieunaissance" class="block mb-2 text-sm font-medium text-gray-900">
                            Lieu naissance</label>
                        <input type="text" disabled="disabled" readonly th:field="${eleve.lieuNaissance}"
                            name="lieunaissance" id="lieunaissance"
                            class=" w-80 cursor-not-allowed rounded-xl bg-gray-50 border border-gray-300 text-gray-900 focus:ring-primary-600 focus:border-primary-600 block p-2.5 "
                            placeholder="name@company.com" required>
                    </div>

                </form>
            </div>
        </div>
        <div class="flex flex-col gap-5 justify-center items-center bg-white rounded-lg w-96 h-80 ">
            <p class="text-center font-bold" th:text="${eleve.nom} +'  '+ ${eleve.prenom}">User Name </p>
            <div
                class="flex justify-center align-middle overflow-hidden rounded-full border-4 border-blue-800 bg-white w-24 h-24">
                <img width="100" th:src="@{'/images/' + ${eleve.photo}}" alt="">
            </div>
            <label class="w-32 h-8 flex justify-center items-center font-bold " th:text="${eleve.adresse}"
                for="input-file">Adresse</label>
            <input type="file" class="rounded hidden w-24 h-10 bg-blue-600 p-2.5" id="input-file" />
        </div>
    </div>
    <div class="flex gap-10 ">

        <div class=" ml-6 w-5/12 bg-white rounded-lg ">
            <div class="p-6 ">
    
                <div class=" flex flex-col gap-5 ">
                    <div class="flex gap-5">
    
    
                        <div>
                            <label for="total"  class="block mb-2 text-sm font-medium text-gray-900">
                                Total</label>
                            <input type="text" disabled="disabled" readonly th:value="${total}" name="total" id="total"
                                class=" cursor-not-allowed  rounded-xl bg-gray-50 border border-gray-300 text-gray-900 focus:ring-primary-600 focus:border-primary-600 block p-2.5 "
                                placeholder="$" required>
                        </div>
                        <div>
                            <label for="nonjustifier" class="block mb-2 text-sm font-medium text-gray-900">
                                Non justifier</label>
                            <input type="text" disabled="disabled" readonly th:value="${total - justifier}" name="nonjustifier" id="nonjustifier"
                                class=" cursor-not-allowed text-red-600  rounded-xl bg-gray-50 border border-gray-300 focus:ring-primary-600 focus:border-primary-600 block p-2.5 "
                                placeholder="$" required>
                        </div>
                    </div>
    
                    <div class="flex gap-5 ">
    
                        <form  class="flex flex-row flex-wrap gap-5" th:object="${abscenceEleve}" action="/abscenceeleve/registerabscenceEleve" method="post">
    
                            <div>
                                <label for="nombreheure" class="block mb-2 text-sm font-medium text-gray-900">
                                    Nombre heure</label>
                                <input type="number" th:field="*{nombreHeure}" name="nombreheure" id="nombreheure"
                                    class="   rounded-xl bg-gray-50 border border-green-600 text-gray-900 focus:ring-primary-600 focus:border-primary-600 block p-2.5 "
                                    placeholder="$" required>
                            </div>
                            <div>
                                <label for="statut" class="block mb-2 text-sm font-medium text-gray-900">
                                    Statut</label>
                                <select th:field="*{statut}" name="statut" id="statut"
                                    class="   rounded-xl bg-gray-50 border border-green-600 text-gray-900 focus:ring-primary-600 focus:border-primary-600 block p-2.5 "
                                    placeholder="$" required>
                                    <option value="justifier">justifier</option>
                                    <option value="non justifier">non justifier</option>
                                </select>
                            </div>
                            
                            <input type="hidden"  th:value="${eleve.id}" name="ideleve" >
                            <div>
                                <label for="submit">.</label>
                                <input type="submit" name="submit" id="submit"
                                    class=" cursor-pointer rounded-xl bg-blue-900 hover:bg-blue-600 border border-gray-300 text-gray-900 focus:ring-primary-600 focus:border-primary-600 block p-2.5 "
                                    placeholder="$" required>
                            </div>
                        </form>
                       
                    </div>
    
                </div>
            </div>
        </div>
        <table class=" flex flex-col gap-1 h-64 overflow-y-auto table-fixed w-5/12 ">
            <th>Liste des abscence des Eleves</th>
            <tr class="flex flex-row mb-0.5 gap-0.5 w-full">
                <td class="font-bold pl-4 bg-blue-500 w-2/5 text-sm ">Date abscence</td>
                <td class="font-bold pl-4 bg-blue-500 w-1/5 text-sm ">Nombre heure</td>
                <td class="font-bold pl-4 bg-blue-500 w-2/5 text-sm ">Statut</td>
            </tr>
            <tr th:each="abscenceEleve : ${abscenceEleves}" class="flex flex-row mb-0.5 gap-0.5 w-full">
                <td th:text="${abscenceEleve.dateAbscence}" class="font-bold pl-4 border-2 border-l-gray-300 border-b-gray-300  bg-white w-2/5 text-sm ">2024-12-08</td>
                <td th:text="${abscenceEleve.nombreHeure}" class="font-bold pl-4 border-2 border-l-gray-300 border-b-gray-300  bg-white w-1/5 text-sm ">10 000</td>
                <td th:text="${abscenceEleve.statut}" class="font-bold pl-4 border-2 border-l-gray-300 border-b-gray-300  bg-white w-2/5 text-sm ">10 000</td>
                </td>
            </tr>
           
        </table>
    </div>
</section>

</main>
</div>

<th:block th:replace="layouts/footer" />

</body>

</html>